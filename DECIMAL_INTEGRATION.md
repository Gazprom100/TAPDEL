# DecimalChain Integration –¥–ª—è TAPDEL

## üìã –û–±–∑–æ—Ä

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è DecimalChain –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –∏–≥—Ä—É TAPDEL –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–µ–ø–æ–∑–∏—Ç–æ–≤ –∏ –≤—ã–≤–æ–¥–æ–≤ —Ä–µ–∞–ª—å–Ω–æ–π –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã DEL. –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å—É–º–º—ã –¥–µ–ø–æ–∑–∏—Ç–æ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Backend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- `config/decimal.js` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è DecimalChain
- `services/decimalService.js` - –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–ª–æ–∫—á–µ–π–Ω–æ–º
- `routes/decimal.js` - API –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –¥–µ–ø–æ–∑–∏—Ç–æ–≤/–≤—ã–≤–æ–¥–æ–≤

### Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- `services/decimalApi.ts` - API –∫–ª–∏–µ–Ω—Ç –¥–ª—è DecimalChain
- `components/Wallet.tsx` - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ—à–µ–ª—å–∫–∞
- DEL –±–∞–ª–∞–Ω—Å –≤ `gameStore.ts`

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- `deposits` - –ö–æ–ª–ª–µ–∫—Ü–∏—è –¥–µ–ø–æ–∑–∏—Ç–æ–≤
- `withdrawals` - –ö–æ–ª–ª–µ–∫—Ü–∏—è –≤—ã–≤–æ–¥–æ–≤
- `users.gameBalance` - DEL –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd backend
npm install web3@^4.3.0 redis@^4.6.0
```

### 2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ `backend/`:

```env
# DecimalChain Configuration
DECIMAL_RPC_URL=https://node.decimalchain.com/web3/
DECIMAL_CHAIN_ID=75
DECIMAL_GAS_PRICE_GWEI=50000
DECIMAL_CONFIRMATIONS=6
DECIMAL_UNIQUE_SCALE=0.000001

# DecimalChain Wallet
DECIMAL_WORKING_ADDRESS=xdc1234567890abcdef1234567890abcdef12345678
DECIMAL_WORKING_PRIVKEY_ENC=base64_encrypted_private_key_here
DECIMAL_KEY_PASSPHRASE=your_secure_passphrase_here

# Redis Configuration  
REDIS_URL=redis://localhost:6379/0
```

### 3. –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞

```bash
npm run encrypt-key
```

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞.

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```bash
npm run test-decimal
```

## üí∞ –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

### –î–µ–ø–æ–∑–∏—Ç—ã

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–µ–ø–æ–∑–∏—Ç –Ω–∞ —Å—É–º–º—É X DEL
2. –°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Å—É–º–º—É: X + —É–Ω–∏–∫–∞–ª—å–Ω—ã–π_–º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–æ—á–Ω—É—é —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Å—É–º–º—É –Ω–∞ —Ä–∞–±–æ—á–∏–π –∞–¥—Ä–µ—Å
4. –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç –±–ª–æ–∫—á–µ–π–Ω –∏ –Ω–∞—Ö–æ–¥–∏—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–π —Å—É–º–º–µ
5. –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è

### –í—ã–≤–æ–¥—ã

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –≤—ã–≤–æ–¥ —É–∫–∞–∑—ã–≤–∞—è –∞–¥—Ä–µ—Å –∏ —Å—É–º–º—É
2. –°–∏—Å—Ç–µ–º–∞ —Å–ø–∏—Å—ã–≤–∞–µ—Ç DEL —Å –∏–≥—Ä–æ–≤–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞
3. –ó–∞–ø—Ä–æ—Å –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –æ—á–µ—Ä–µ–¥—å –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É
4. –í–æ—Ä–∫–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç DEL –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å

### –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å—É–º–º—ã

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä:
```javascript
const userIdHash = crypto.createHash('md5').update(userId).digest('hex');
const userMod = parseInt(userIdHash.substring(0, 8), 16) % 1000;
const uniqueModifier = userMod * 0.000001; // DECIMAL_UNIQUE_SCALE
const uniqueAmount = baseAmount + uniqueModifier;
```

–ü—Ä–∏–º–µ—Ä—ã:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A: 1.0 ‚Üí 1.000234 DEL
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B: 1.0 ‚Üí 1.000567 DEL

## üîß API Endpoints

### –î–µ–ø–æ–∑–∏—Ç—ã

- `POST /api/decimal/deposits` - –°–æ–∑–¥–∞—Ç—å –¥–µ–ø–æ–∑–∏—Ç
- `GET /api/decimal/deposits/:id` - –°—Ç–∞—Ç—É—Å –¥–µ–ø–æ–∑–∏—Ç–∞
- `GET /api/decimal/users/:userId/deposits` - –ò—Å—Ç–æ—Ä–∏—è –¥–µ–ø–æ–∑–∏—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –í—ã–≤–æ–¥—ã

- `POST /api/decimal/withdrawals` - –°–æ–∑–¥–∞—Ç—å –≤—ã–≤–æ–¥
- `GET /api/decimal/withdrawals/:id` - –°—Ç–∞—Ç—É—Å –≤—ã–≤–æ–¥–∞
- `GET /api/decimal/users/:userId/withdrawals` - –ò—Å—Ç–æ—Ä–∏—è –≤—ã–≤–æ–¥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ë–∞–ª–∞–Ω—Å

- `GET /api/decimal/users/:userId/balance` - DEL –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/decimal/info` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á

- –•—Ä–∞–Ω–∏—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –†–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –°—Ä–∞–∑—É –æ—á–∏—â–∞–µ—Ç—Å—è –∏–∑ –ø–∞–º—è—Ç–∏ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Nonce —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

- Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ nonce –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫–æ–ª–ª–∏–∑–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

### –í–∞–ª–∏–¥–∞—Ü–∏—è –∞–¥—Ä–µ—Å–æ–≤

- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ DecimalChain –∞–¥—Ä–µ—Å–æ–≤ (xdc... –∏–ª–∏ 0x...)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö —Å—É–º–º (0.001 DEL)

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ë–ª–æ–∫—á–µ–π–Ω

- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –±–ª–æ–∫–æ–≤ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π –∫–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–≤–æ–¥–æ–≤ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥

### –õ–æ–≥–∏

- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
npm run test-decimal

# –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–∞
curl -X POST http://localhost:3000/api/decimal/deposits \
  -H "Content-Type: application/json" \
  -d '{"userId": "test-user", "baseAmount": 1.0}'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
curl http://localhost:3000/api/decimal/users/test-user/balance
```

## üì± –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ö–æ—à–µ–ª–µ–∫

- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ DEL –±–∞–ª–∞–Ω—Å–∞
- –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–æ–≤ —Å QR-–∫–æ–¥–∞–º–∏
- –ò–Ω–∏—Ü–∏–∞—Ü–∏—è –≤—ã–≤–æ–¥–æ–≤
- –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∏–≥—Ä—É

- –ö–Ω–æ–ø–∫–∞ –∫–æ—à–µ–ª—å–∫–∞ –≤ –ø—Ä–æ—Ñ–∏–ª–µ
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è—Ö

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **Redis –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã nonce –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
2. **–†–∞–±–æ—á–∏–π –∫–æ—à–µ–ª–µ–∫** –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ DEL –¥–ª—è –∫–æ–º–∏—Å—Å–∏–π
3. **–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏** –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ —Ö—Ä–∞–Ω–∏—Ç–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –±–ª–æ–∫—á–µ–π–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ
5. **Production** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –Ω–µ .env —Ñ–∞–π–ª—ã

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Render.com

–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –ø–∞–Ω–µ–ª—å Render:

```
DECIMAL_RPC_URL=https://node.decimalchain.com/web3/
DECIMAL_WORKING_ADDRESS=your_address
DECIMAL_WORKING_PRIVKEY_ENC=your_encrypted_key
DECIMAL_KEY_PASSPHRASE=your_passphrase
REDIS_URL=redis://your_redis_instance
```

### Redis

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π Redis —Å–µ—Ä–≤–∏—Å:
- Render Redis
- AWS ElastiCache  
- Redis Cloud
- DigitalOcean Managed Redis

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run test-decimal`
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Redis –¥–æ—Å—Ç—É–ø–µ–Ω
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å —Ä–∞–±–æ—á–µ–≥–æ –∫–æ—à–µ–ª—å–∫–∞
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

*–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –¥–ª—è TAPDEL - –∫–∏–±erpunk Telegram mini-app* 